server:
  port: 8080
  instance-id: ${spring.application.name}:${spring.application.instance_id:${spring.cloud.client.ip-address}}:${server.port}
spring:
  application.name: dataviz-indexing-service
  main.banner-mode: off
  webflux.base-path: /
  codec:
    max-in-memory-size: 1GB
  jackson:
    default-property-inclusion: non-empty
    serialization:
      indent-output: true
  cloud:
    loadbalancer.ribbon.enabled: false # ribbon is in maintenance mode and should be replaced by spring-cloud-loadbalancer
    config:
      fail-fast: true
      retry:
        max-attempts: 20
      discovery:
        enabled: true
        service-id: config-service

eureka:
  instance:
    hostname: ${spring.application.name}
    instance-id: ${server.instance-id}
    preferIpAddress: true
    lease-expiration-duration-in-seconds: 30
    lease-renewal-interval-in-seconds: 30
  client:
    enabled: true
    registerWithEureka: true
    fetchRegistry: true
    registry-fetch-interval-seconds: 30
    serviceUrl:
      defaultZone: ${eureka.server.url:http://localhost:8761/eureka}
    healthcheck:
      enabled: true

dataviz:
  indexer:
    producers:
      # these are all default values (i.e. same as not setting them at all),
      # for the sake of documenation (IDE autocompletion enabled)
      shp:
        default-charset: UTF-8
      wfs: 
        lenient: true
        #prefer-post:
        #timeout: 30000
        try-gzip: true
        http-connection-pooling: true
        http-connection-pool-size: 6
        
    
logging:
  level:
    root: WARN
    org.fao.geonet.dataviz: info
    org.fao.geonet.dataviz.producer.geotools: debug
    